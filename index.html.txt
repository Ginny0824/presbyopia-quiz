<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è€èŠ±çœ¼ç”Ÿç†æ©Ÿåˆ¶èˆ‡å°ˆæ¥­é©—é…æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f0f4f8;
        }

        .option-transition {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .quiz-card {
            display: none;
        }

        .quiz-card.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .progress-bar {
            transition: width 0.4s ease;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
        <!-- é ‚éƒ¨æ¨™é¡Œèˆ‡é€²åº¦ -->
        <div class="bg-slate-800 p-6 text-white text-center">
            <h1 class="text-2xl font-bold mb-2">è€èŠ±çœ¼å°ˆæ¥­çŸ¥è­˜æ¸¬é©—</h1>
            <p class="text-slate-400 text-sm">æå‡å°èª¿ç¯€åŠ›ä¸‹é™èˆ‡å…‰å­¸çŸ¯æ­£çš„å°ˆæ¥­ç†è§£</p>
            
            <div class="mt-6 h-2 w-full bg-slate-700 rounded-full overflow-hidden">
                <div id="progress" class="progress-bar h-full bg-blue-500 w-0"></div>
            </div>
        </div>

        <!-- æ¸¬é©—å…§å®¹å€ -->
        <div id="quiz-container" class="p-6 md:p-10">
            <!-- é¡Œç›®æœƒç”± JS å‹•æ…‹ç”Ÿæˆ -->
        </div>

        <!-- æŒ‰éˆ•æ§åˆ¶å€ -->
        <div class="p-6 bg-slate-50 border-t flex justify-between items-center">
            <button id="prev-btn" onclick="changeQuestion(-1)" class="px-6 py-2 rounded-lg border border-slate-300 text-slate-600 hover:bg-white disabled:opacity-30 disabled:cursor-not-allowed">
                ä¸Šä¸€é¡Œ
            </button>
            <span id="question-number" class="text-slate-500 font-medium">1 / 10</span>
            <button id="next-btn" onclick="changeQuestion(1)" class="px-6 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-30 disabled:cursor-not-allowed">
                ä¸‹ä¸€é¡Œ
            </button>
            <button id="submit-btn" onclick="showResults()" class="hidden px-6 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700">
                æäº¤çµæœ
            </button>
        </div>
    </div>

    <!-- çµæœå½ˆçª— -->
    <div id="result-modal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl max-w-md w-full p-8 text-center shadow-2xl">
            <div id="result-icon" class="text-6xl mb-4">ğŸ“</div>
            <h2 class="text-3xl font-bold text-slate-800 mb-2">æ¸¬é©—å®Œæˆï¼</h2>
            <div id="final-score" class="text-5xl font-extrabold text-blue-600 my-6">0 / 100</div>
            <p id="result-message" class="text-slate-600 mb-8">æ‚¨å°è€èŠ±çœ¼çš„çŸ¥è­˜æŒæ¡éå¸¸ç´®å¯¦ã€‚</p>
            <button onclick="location.reload()" class="w-full py-3 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-900 transition-colors">
                é‡æ–°æŒ‘æˆ°
            </button>
            <button onclick="closeModal()" class="w-full mt-3 py-3 text-slate-500 font-medium hover:text-slate-800">
                æŸ¥çœ‹è§£æ
            </button>
        </div>
    </div>

    <script>
        const quizData = [
            {
                q: "é—œæ–¼ã€Œè€èŠ±çœ¼ï¼ˆPresbyopiaï¼‰ã€çš„ç”Ÿç†æ©Ÿåˆ¶èˆ‡è‡¨åºŠè¨ºæ–·ï¼Œä¸‹åˆ—æ•˜è¿°ä½•è€…æœ€ç¬¦åˆå°ˆå®¶çš„è§€é»ï¼Ÿ",
                options: [
                    "è€èŠ±çœ¼å®Œå…¨å–æ±ºæ–¼å¹´é½¡ï¼Œæœªæ»¿ 40 æ­²çš„ç—…æ‚£ä¸»è¨´è¿‘è·é›¢æ¨¡ç³Šæ™‚ï¼Œæ‡‰å„ªå…ˆæ‡·ç–‘å‡æ€§è¿‘è¦–ã€‚",
                    "çœ¼çƒé‹å‹•ï¼ˆEye Exercisesï¼‰å¯å¢å¼·ç«ç‹€è‚Œè‚ŒåŠ›ï¼Œæ˜¯ç›®å‰æœ‰æ•ˆé€†è½‰è€èŠ±çš„ç‰©ç†æ²»ç™‚ã€‚",
                    "è‡¨åºŠä¸Šè‹¥ç™¼ç¾ 20-30 æ­²æ—ç¾¤è©¦æˆ´ä½åº¦æ•¸æ­£åº¦æ•¸é¡ç‰‡å¾Œæ„Ÿåˆ°èˆ’é©ï¼Œå³é¡¯ç¤ºèª¿ç¯€åŠ›æœ‰ä¸‹é™ç¾è±¡ã€‚",
                    "é«˜åº¦è¿‘è¦–æ‚£è€…å› çœ¼è»¸è¼ƒé•·ï¼Œå…¶ç™¼ç”Ÿè€èŠ±çœ¼çš„å¹´é½¡å¿…å®šæ¯”æ­£è¦–çœ¼æ™š 10 å¹´ä»¥ä¸Šã€‚"
                ],
                correct: 2,
                exp: "ç¾ä»£ç”¨çœ¼ç¿’æ…£æ”¹è®Šï¼Œ20-30æ­²æ—ç¾¤å› éåº¦ä½¿ç”¨æ•¸ä½è£ç½®ï¼Œå¸¸å‡ºç¾èª¿ç¯€åŠ›ææ—©ä¸‹é™ã€‚è©¦æˆ´ä½åº¦æ­£åº¦æ•¸é¡ç‰‡è‹¥èƒ½æ¸›è¼•è¦–è¦ºå£“åŠ›ï¼Œæ˜¯é‡è¦çš„è¨ºæ–·åƒè€ƒã€‚"
            },
            {
                q: "é‡å°ã€Œç¾æˆè€èŠ±çœ¼é¡ã€çš„å…‰å­¸ç¼ºé™·åŠå…¶å°è¦–è¦ºç³»çµ±çš„å½±éŸ¿ï¼Œä¸‹åˆ—åˆ†æä½•è€…æ­£ç¢ºï¼Ÿ",
                options: [
                    "ä¸»è¦å•é¡Œåƒ…åœ¨æ–¼å¤–è§€ä¸ç¾è§€ï¼Œå…‰å­¸å“è³ªèˆ‡è™•æ–¹çœ¼é¡ç„¡ç•°ã€‚",
                    "ç¾æˆçœ¼é¡é€šå¸¸å…·å‚™å›ºå®šçš„ç³è·ï¼ˆPDï¼‰ï¼Œè‹¥é…æˆ´è€…ä¸ç¬¦æœƒç”¢ç”Ÿç¨œé¡æ•ˆæ‡‰å°è‡´ä¸é©ã€‚",
                    "ç¾æˆçœ¼é¡å¯ä»¥è‡ªå‹•ä¿®æ­£ 100 åº¦ä»¥å…§çš„æ•£å…‰ã€‚",
                    "çœ¼ç§‘é†«å¸«å»ºè­°ï¼Œè‹¥åªæ˜¯å–®ç´”è€èŠ±ï¼Œç›´æ¥è³¼è²·ç¾æˆçœ¼é¡å³å¯ã€‚"
                ],
                correct: 1,
                exp: "ç¾æˆè€èŠ±é¡çš„ç³è·å›ºå®šï¼Œä¸”é›™çœ¼åº¦æ•¸ä¸€è‡´ï¼Œå°æ–¼æœ‰æ•£å…‰æˆ–é›™çœ¼è¦–å·®çš„äººæœƒç”¢ç”Ÿä¸å¿…è¦çš„ç¨œé¡æ•ˆæ‡‰ï¼Œé•·æœŸé…æˆ´æ˜“å°è‡´é ­ç—›èˆ‡ç–²å‹ã€‚"
            },
            {
                q: "æŸæ‚£è€…ã€Œè€èŠ±é›·å°„ã€è¡“å¾Œç™½æ—¥è¦–åŠ›è‰¯å¥½ï¼Œä½†ä¸»è¨´ã€Œå¤œé–“é–±è®€ã€ä»æ„ŸåƒåŠ›ã€‚ä¸‹åˆ—è™•ç½®ä½•è€…æœ€æ°ç•¶ï¼Ÿ",
                options: [
                    "å‘ŠçŸ¥æ‚£è€…é€™æ˜¯æ‰‹è¡“å¤±æ•—ï¼Œéœ€è½‰è¨ºäºŒæ¬¡æ‰‹è¡“ã€‚",
                    "å»ºè­°æ‚£è€…å¤œé–“é–±è®€æ™‚ä½¿ç”¨æ”¾å¤§é¡å³å¯ã€‚",
                    "è€ƒé‡å¤œé–“å°æ¯”åº¦éœ€æ±‚è¼ƒé«˜ï¼Œå¯é©—é…ä¸€å‰¯ä½åº¦æ•¸çš„å¤œé–“é–±è®€å°ˆç”¨çœ¼é¡ã€‚",
                    "å»ºè­°æ‚£è€…é»æ•£ç³åŠ‘æ”¾é¬†ç«ç‹€è‚Œã€‚"
                ],
                correct: 2,
                exp: "ç³å­”åœ¨å¤œé–“æœƒæ”¾å¤§ï¼Œå°è‡´æ™¯æ·±è®Šæ·ºåŠå°æ¯”åº¦ä¸‹é™ã€‚å³ä½¿æ¥å—éæ‰‹è¡“ï¼Œé‡å°ç‰¹å®šçš„å¤œé–“ç²¾ç´°å·¥ä½œé…æˆ´è¼”åŠ©çœ¼é¡æ˜¯å°ˆæ¥­ä¸”ç§‘å­¸çš„åšæ³•ã€‚"
            },
            {
                q: "é—œæ–¼ã€Œå®¤å…§å‹å¤šç„¦é¡ç‰‡ï¼ˆOffice/Indoor Lensesï¼‰ã€çš„æ•˜è¿°ï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ",
                options: [
                    "è©²é¡ç‰‡è¨­è¨ˆç‚ºå–®ç„¦é»ï¼Œç„¡æ³•çœ‹æ¸…æ‰‹æ©Ÿæ–‡å­—ã€‚",
                    "è©²é¡ç‰‡ä¸Šæ–¹çœ‹ç„¡é™é æ¸…æ™°ï¼Œé©åˆé–‹è»Šä½¿ç”¨ã€‚",
                    "ä¸»è¦é‡å°ä¸­è¿‘è·é›¢ï¼ˆç´„ 2 è‡³ 4 å…¬å°ºï¼‰å„ªåŒ–ï¼Œé©åˆè¾¦å…¬ä½†ã€Œä¸é©åˆã€é§•é§›ã€‚",
                    "åƒ¹æ ¼é€šå¸¸æ¯”ä¸€èˆ¬å–®ç„¦é»é¡ç‰‡ä¾¿å®œã€‚"
                ],
                correct: 2,
                exp: "å®¤å…§å‹é¡ç‰‡çŠ§ç‰²äº†é è¦–åŠ›ï¼ˆé–‹è»Šï¼‰æ›å–æ›´å¯¬å»£çš„ä¸­è¿‘è·é›¢è¦–é‡ï¼Œæœ€é©åˆè¾¦å…¬ç’°å¢ƒä½¿ç”¨ã€‚"
            },
            {
                q: "50 æ­²é«˜åº¦è¿‘è¦–æ‚£è€…å¹³æ™‚é…æˆ´ç¡¬å¼éš±å½¢çœ¼é¡ï¼ˆRGPï¼‰ï¼Œå…¶è€èŠ±è¼”åŠ©æ–¹æ¡ˆä½•è€…æœ€ç¬¦åˆå»ºè­°ï¼Ÿ",
                options: [
                    "è¦æ±‚æ‚£è€…å®Œå…¨åœæˆ´ RGPã€‚",
                    "åœ¨ RGP ä¹‹å¤–ï¼Œä¸Šç­æ™‚å¤–åŠ ä¸€å‰¯ã€Œè¾¦å…¬å®¤é¡ç‰‡ï¼ˆOffice lensï¼‰ã€é€²è¡Œè¼”åŠ©ã€‚",
                    "å»ºè­°æ‚£è€…é€²è¡Œå–®çœ¼è¦–ï¼ˆMonovisionï¼‰é›·å°„æ‰‹è¡“ã€‚",
                    "è«‹æ‚£è€…é–±è®€æ™‚æ‘˜é™¤ RGPï¼Œç›´æ¥çœ‹è¿‘ã€‚"
                ],
                correct: 1,
                exp: "RGP æä¾›å„ªç•°çš„é è¦–åŠ›ã€‚åœ¨ RGP ä¹‹ä¸Šç–ŠåŠ ä¸€å‰¯é‡å°ä¸­è¿‘è·é›¢è¨­è¨ˆçš„æ¡†æ¶çœ¼é¡ï¼ˆOffice Lensï¼‰ï¼Œèƒ½è®“æ‚£è€…åœ¨ä¸æ”¹è®Šç”¨çœ¼ç¿’æ…£ä¸‹ç²å¾—æœ€ä½³è¾¦å…¬é«”é©—ã€‚"
            },
            {
                q: "åœ¨é€²è¡Œæ¼¸é€²å¤šç„¦é»é¡ç‰‡é©—é…è¡›æ•™æ™‚ï¼Œä¸‹åˆ—å“ªé …è§€å¿µæ˜¯éŒ¯èª¤çš„ï¼Ÿ",
                options: [
                    "é¡ç‰‡åƒ¹æ ¼å·®ç•°ä¸»è¦ä¾†è‡ªè¦–é‡å¯¬å»£åº¦ã€åƒå·®æ§åˆ¶ç­‰æŠ€è¡“ã€‚",
                    "é©—é…æ™‚å¿…é ˆæ¸¬é‡å–®çœ¼ç³è·ã€çœ¼ä½é«˜ã€é ‚é»è·é›¢ç­‰åƒæ•¸ã€‚",
                    "åˆæ¬¡é…æˆ´è€…è‹¥å‡ºç¾é ­æšˆï¼Œå¿…å®šæ˜¯åº¦æ•¸è™•æ–¹éŒ¯èª¤ï¼Œæ‡‰ç«‹å³é‡é©—ã€‚",
                    "æ‡‰å¼•å°æ‚£è€…å­¸ç¿’é ­éƒ¨èˆ‡çœ¼çƒçš„å”èª¿é‹ä½œã€‚"
                ],
                correct: 2,
                exp: "æ¼¸é€²å¤šç„¦å­˜åœ¨åƒå·®å€ï¼ˆæ–æ™ƒæ„Ÿï¼‰ï¼Œåˆæ¬¡ä½©æˆ´éœ€è¦ 1-2 é€±çš„é©æ‡‰æœŸï¼Œå­¸ç¿’ã€Œé ­å‹•çœ¼ä¸å‹•ã€çš„æŠ€å·§ï¼Œé ­æšˆé€šå¸¸æ˜¯é©æ‡‰å•é¡Œè€Œéè™•æ–¹éŒ¯èª¤ã€‚"
            },
            {
                q: "ç²¾æº–çš„è€èŠ±é©—é…æµç¨‹æ‡‰åŒ…å«ï¼š",
                options: [
                    "åƒ…éœ€ä½¿ç”¨é›»è…¦é©—å…‰æ©Ÿä¸¦å°ç…§å¹´é½¡çµ¦äºˆåº¦æ•¸ã€‚",
                    "é€²è¡Œ 21 é …é©—å…‰ç¨‹åºï¼ŒåŒ…å«é›™çœ¼å”èª¿èˆ‡é–±è®€è·é›¢è©•ä¼°ã€‚",
                    "åªè¦ç¢ºèªæœ€ä½³çŸ¯æ­£è¦–åŠ›é”åˆ° 1.0 å³å¯ã€‚",
                    "ç›´æ¥è®“æ‚£è€…è©¦æˆ´æœ€é«˜åº¦æ•¸çš„è€èŠ±çœ¼é¡ã€‚"
                ],
                correct: 1,
                exp: "ç²¾æº–é©—å…‰å¿…é ˆè€ƒé‡èª¿ç¯€å¹…åº¦ï¼ˆAmplitude of Accommodationï¼‰ã€èª¿ç¯€éˆæ•åº¦ä»¥åŠæ‚£è€…å¯¦éš›çš„å·¥ä½œè·é›¢ï¼ˆå¦‚ï¼šç¹ªç•« vs å¯«ç¨‹å¼ï¼‰ã€‚"
            },
            {
                q: "ã€Œçœ¼ç§‘é†«å¸«ã€èˆ‡ã€Œé©—å…‰å¸«ã€åœ¨è€èŠ±ç…§è­·ä¸­çš„ã€Œé›™å¸«åˆä½œã€æ¨¡å¼ç‚ºä½•ï¼Ÿ",
                options: [
                    "é©—å…‰å¸«è¨ºæ–·ç–¾ç—…ï¼Œé†«å¸«è² è²¬é…é¡ã€‚",
                    "é†«å¸«æ’é™¤ç—…ç†æ€§å•é¡Œï¼ˆå¦‚ç™½å…§éšœï¼‰ï¼›é©—å…‰å¸«è² è²¬ç²¾æº–é©—å…‰èˆ‡åŠŸèƒ½é¡ç‰‡è«®è©¢ã€‚",
                    "æ°‘çœ¾æ‡‰å…ˆé…é¡ï¼Œé…ä¸å¥½å†å»è¨ºæ‰€ã€‚",
                    "å·¥ä½œå®Œå…¨é‡ç–Šï¼Œæ“‡ä¸€å³å¯ã€‚"
                ],
                correct: 1,
                exp: "è€èŠ±å¯èƒ½èˆ‡ç™½å…§éšœã€é’å…‰çœ¼åˆæœŸæ··æ·†ã€‚ç”±é†«å¸«ç¢ºèªçœ¼çƒå¥åº·å¾Œï¼Œäº¤ç”±å°ˆæ¥­é©—å…‰å¸«é‡å°è¦–è¦ºç”Ÿæ´»éœ€æ±‚é€²è¡Œå…‰å­¸è¨­è¨ˆã€‚"
            },
            {
                q: "è€èŠ±çœ¼é¡çš„å…‰å­¸åŸç†æ˜¯åˆ©ç”¨ä½•ç¨®é€é¡ï¼Ÿ",
                options: [
                    "å‡¹é€é¡ï¼ˆConcave Lensï¼‰ã€‚",
                    "å‡¸é€é¡ï¼ˆConvex Lensï¼‰ï¼Œå¹«åŠ©å…‰ç·šèšç„¦æ–¼è¦–ç¶²è†œä¸Šã€‚",
                    "æŸ±ç‹€é¡ï¼ˆCylindrical Lensï¼‰ã€‚",
                    "ç¨œé¡ï¼ˆPrismï¼‰ã€‚"
                ],
                correct: 1,
                exp: "è€èŠ±æ˜¯ç”±æ–¼èª¿ç¯€åŠ›ä¸è¶³å°è‡´ç„¦é»è½åœ¨è¦–ç¶²è†œå¾Œæ–¹ï¼Œå› æ­¤éœ€ä½¿ç”¨ã€Œå‡¸é€é¡ã€ç”¢ç”ŸåŒ¯èšä½œç”¨ï¼Œå°‡ç„¦é»å‰ç§»è‡³è¦–ç¶²è†œã€‚"
            },
            {
                q: "é—œæ–¼ã€Œ3D æ™ºèƒ½å®šä½ã€èˆ‡ã€Œæ¨¡æ“¬é«”é©—ã€çš„ç›®çš„ï¼š",
                options: [
                    "ç´”ç²¹ç‚ºäº†è¡ŒéŠ·å™±é ­ã€‚",
                    "è®“æ‚£è€…å…ˆæ„Ÿå—ä¸åŒè·é›¢è®ŠåŒ–ï¼Œä¸¦ç²¾æº–å®šä½ç³å­”èˆ‡å…‰å­¸ä¸­å¿ƒã€‚",
                    "ç”¨ä¾†æª¢æŸ¥è¦–ç¶²è†œå‰é›¢ã€‚",
                    "ç‚ºäº†è®“æ‚£è€…ç·´ç¿’çœ¼çƒé‹å‹•ã€‚"
                ],
                correct: 1,
                exp: "é€éæ¨¡æ“¬é«”é©—å¯é™ä½æ‚£è€…å°å¤šç„¦é¡ç‰‡çš„ææ‡¼æ„Ÿï¼Œè€Œç²¾æº–çš„ 3D å®šä½å‰‡ç¢ºä¿é…é¡åƒæ•¸ï¼ˆå‚¾æ–œè§’ã€çœ¼ä½é«˜ï¼‰å®Œç¾å¥‘åˆæ‚£è€…è‡‰å‹ï¼Œæ¸›å°‘åƒå·®æ„Ÿã€‚"
            }
        ];

        let currentIdx = 0;
        const userAnswers = new Array(quizData.length).fill(null);
        let submitted = false;

        function initQuiz() {
            const container = document.getElementById('quiz-container');
            quizData.forEach((data, qIdx) => {
                const card = document.createElement('div');
                card.id = `q-${qIdx}`;
                card.className = `quiz-card ${qIdx === 0 ? 'active' : ''}`;
                
                let optionsHtml = data.options.map((opt, oIdx) => `
                    <button onclick="selectOption(${qIdx}, ${oIdx})" 
                            id="opt-${qIdx}-${oIdx}"
                            class="option-btn option-transition w-full text-left p-4 mb-3 border-2 border-slate-200 rounded-xl hover:bg-slate-50 flex items-center group">
                        <span class="w-8 h-8 flex items-center justify-center rounded-full bg-slate-100 text-slate-500 mr-4 font-bold group-hover:bg-blue-100 group-hover:text-blue-600">
                            ${String.fromCharCode(65 + oIdx)}
                        </span>
                        <span class="flex-1">${opt}</span>
                    </button>
                `).join('');

                card.innerHTML = `
                    <h3 class="text-xl font-bold text-slate-800 mb-6 leading-snug">Q${qIdx + 1}. ${data.q}</h3>
                    <div class="options-group">${optionsHtml}</div>
                    <div id="exp-box-${qIdx}" class="hidden mt-6 p-5 bg-blue-50 border-l-4 border-blue-500 rounded-r-xl">
                        <p class="text-blue-800 font-bold mb-1">ã€å°ˆæ¥­è§£æã€‘æ­£ç¢ºç­”æ¡ˆï¼š(${String.fromCharCode(65 + data.correct)})</p>
                        <p class="text-slate-700 leading-relaxed">${data.exp}</p>
                    </div>
                `;
                container.appendChild(card);
            });
            updateUI();
        }

        function selectOption(qIdx, oIdx) {
            if (submitted) return;
            
            userAnswers[qIdx] = oIdx;
            
            // UI æ›´æ–°
            const btns = document.querySelectorAll(`#q-${qIdx} .option-btn`);
            btns.forEach((btn, i) => {
                if (i === oIdx) {
                    btn.classList.add('border-blue-500', 'bg-blue-50');
                    btn.querySelector('span:first-child').classList.add('bg-blue-500', 'text-white');
                } else {
                    btn.classList.remove('border-blue-500', 'bg-blue-50');
                    btn.querySelector('span:first-child').classList.remove('bg-blue-500', 'text-white');
                }
            });

            // è‡ªå‹•è·³ä¸‹ä¸€é¡Œ (å»¶é²ä»¥åˆ©è¦–è¦ºç¢ºèª)
            setTimeout(() => {
                if (currentIdx < quizData.length - 1 && userAnswers[currentIdx] !== null) {
                    changeQuestion(1);
                }
            }, 300);
        }

        function changeQuestion(dir) {
            const nextIdx = currentIdx + dir;
            if (nextIdx >= 0 && nextIdx < quizData.length) {
                document.getElementById(`q-${currentIdx}`).classList.remove('active');
                currentIdx = nextIdx;
                document.getElementById(`q-${currentIdx}`).classList.add('active');
                updateUI();
            }
        }

        function updateUI() {
            document.getElementById('question-number').innerText = `${currentIdx + 1} / ${quizData.length}`;
            document.getElementById('progress').style.width = `${((currentIdx + 1) / quizData.length) * 100}%`;
            
            document.getElementById('prev-btn').disabled = currentIdx === 0;
            
            if (currentIdx === quizData.length - 1) {
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('submit-btn').classList.remove('hidden');
            } else {
                document.getElementById('next-btn').classList.remove('hidden');
                document.getElementById('submit-btn').classList.add('hidden');
            }
        }

        function showResults() {
            if (userAnswers.includes(null)) {
                const emptyIdx = userAnswers.indexOf(null);
                document.getElementById(`q-${currentIdx}`).classList.remove('active');
                currentIdx = emptyIdx;
                document.getElementById(`q-${currentIdx}`).classList.add('active');
                updateUI();
                alert("è«‹å®Œæˆæ‰€æœ‰é¡Œç›®å¾Œå†æäº¤ã€‚");
                return;
            }

            submitted = true;
            let score = 0;
            
            quizData.forEach((data, qIdx) => {
                const btns = document.querySelectorAll(`#q-${qIdx} .option-btn`);
                const expBox = document.getElementById(`exp-box-${qIdx}`);
                expBox.classList.remove('hidden');

                if (userAnswers[qIdx] === data.correct) {
                    score += 10;
                    btns[data.correct].classList.add('border-green-500', 'bg-green-50');
                } else {
                    btns[userAnswers[qIdx]].classList.add('border-red-500', 'bg-red-50');
                    btns[data.correct].classList.add('border-green-500', 'bg-green-50');
                }
            });

            document.getElementById('final-score').innerText = `${score} / 100`;
            document.getElementById('result-modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('result-modal').classList.add('hidden');
            document.getElementById('submit-btn').innerText = "é‡æ–°è¨ˆç®—";
            // æ»¾å‹•å›é ‚éƒ¨çœ‹è§£æ
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.onload = initQuiz;
    </script>
</body>
</html>